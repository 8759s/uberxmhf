<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<title>Application Notes @ Digital Shortcut Inc.</title>
<link rel="stylesheet" type="text/css" href="css/reset.css" >
<link rel="stylesheet" type="text/css" href="css/base.css">
<link rel="stylesheet" type="text/css" href="css/layout.css" >
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<style type="text/css"> 
  body {margin:0; padding:0; background-color: #00005D; }
  #volt { font-family: "lucida console", Arial, Helvetica,; font-size: 3.00em; color: yellow; background-color: black; border: 4px solid purple; padding: 1px; }
  #txt3em {  font-size: 3.00em; }
</style>
<script type="text/javascript">
  function updateVOM(url)
  {
    counter = counter+1;    //-- show number of requests
    document.getElementById("cnt").firstChild.nodeValue =counter;
    //
    if(!xmlhttp)return alert("Your browser doesn't seem to support XMLHttpRequests.");
    xmlhttp.open("GET",url,true);
    xmlhttp.send(null);
    xmlhttp.onreadystatechange=function(){
      if(xmlhttp.readyState!=4)return;
      if(xmlhttp.status==200 || xmlhttp.status==0) {
        document.getElementById("volt").firstChild.nodeValue = xmlhttp.responseText.substr(0,6); 
      }
      else
        alert("Request failed! xmlhttp.status is: " + xmlhttp.status);
    };//onreadystatechange
  }
  // request every 500ms
  var xmlhttp=false;
  if(!xmlhttp)try{ xmlhttp=new XMLHttpRequest(); }catch(e){xmlhttp=false;}
  var int=self.setInterval("updateVOM('vom.php')", 500)
  var counter=0;
  
</script>
</head>
<body class="yui-skin-sam">
<div id="doc3" class="yui-t1">
   <div id="hd"><img class="floatleft" src="img/dsi.png" alt="DSI" width="500" height="80"></div>
   <div id="bd">
       <div id="yui-main">
	       <div class="yui-b">
	            <!-- start liquid corner box -->
              <div class="top-left"></div>
              <div class="top-right"></div>
              <div class="insideleft">
                  <div class="insideright">
                      <div class="inside">
                          <div>
                          <h1 class="notopgap">Application Notes and other useful stuff</h1>
                             Hopefully this page will start filling up with a nice collection of small projects and utilities, hacks and tips, that we want to share.
                             <h2>Voltmeter demo</h2>
                             This demo shows how to use our web server, Java Script, AJAX and DOM to display value from LPC2148 analog to a digital converter. Please refer to the source of this page.
                             We tested it with IE8, Firefox 3 and Chrome. The recipe is really short and simple:<br>
                             <ol>
                                <li> Give a name to the tag where the data will go, in our case span tag with: <span class="codex">id="volt"</span><br></li>
                                <li> Create <strong>XMLHttpRequest</strong> object:( see <a href="http://www.w3schools.com/XML/xml_http.asp">XMLHttpRequest</a> ) <br>
                                     <span class="codex"> xmlhttp=new XMLHttpRequest();</span>
                                </li>
                                <li> Write function "<strong>updateVOM()</strong>" which requests data and handles "onreadystatechange" event.
                                     Use following line to inject new data into the "volt" tag ( see <a href="http://www.w3schools.com/HTMLDOM/dom_nodes_access.asp"> accessing nodes</a> )<br>
                                     <span class="codex"> document.getElementById("volt").firstChild.nodeValue = xmlHttp.responseText.substr(0,6)</span>
                                </li>
                                <li> Add periodical call to the function "updateVOM()" (<a href="http://www.w3schools.com/HTMLDOM/met_win_setinterval.asp">setInterval</a> ) <br>
                                    <span class="codex">var int=self.setInterval("updateVOM('vom.php')", 500)</span>
                                </li>
                             </ol>
                             New samples from A/D are retrieved every 500ms. Only text with id="volt" is refreshed. The LPC2148 has 14 A/D channels so happy XMLHttpRequest()'ing.
                          </div>
                          <div style= "text-align: center;">
                             <h2>
                                <span style="font-size: 3.00em;"> Voltage = &nbsp;</span>
                                <strong><span id="volt">&nbsp;</span></strong>
                                <span style="font-size: 3.00em;"> &nbsp;V</span>
                             </h2>
                          </div>
                          <div>
                              If you see  this page on digitalshortcut.com then of course there is no A/D converter we can read, so two line PHP script generates random values and disables cache.<br>
                              Embeded server actually ignores content of the "vom.php" file and instead uses file index as a trigger for predefined action.
                              <span id="cnt">COUNTER</span> <button onclick="int=window.clearInterval(int)">Stop</button>
                              <hr>
                              <h2 class="notopgap">Accessing serial port (when in ISE under Windows)</h2>
                              <!--   Digital Shortcut Inc developement boards feature a RS232 port. From time to time there is a need to send some configuration data to the FPGA over serial port.
                                 It can be done without leaving ISE developemnt suite. Just select a Tcl Console tab and load your script. "<span class="codex"> source your_script.tcl</span>"
                                It is a easy, error free way to send sometimes very cryptic parameters to your app inside FPGA.
                                 <br>
                                 put picture and sample script here
                               -->
                              <br>
                              <hr>
                          </div>
                          <div>
                            <p class="nobottomgap" style="margin-top: 6px">
                               <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
                            </p>
                          </div>
                      </div>
                  </div>
              </div>
              <div class="bottom-left"></div>
              <div class="bottom-right"></div>
          </div>
	    </div>
	    <div id="nav" class="yui-b">
	        <div><p><br></p></div>
	        <div class="mainmenu">
              <div class="mainmenuitem"><p><a href="index.html"><img src="img/hi.gif" alt="" >&nbsp;&nbsp;Home</a></p></div>
              <div class="mainmenuitem"><p><a href="products.html">&nbsp;&nbsp;&nbsp;&nbsp;Products</a></p></div>
              <div class="mainmenuitem"><p><a href="services.html">&nbsp;&nbsp;&nbsp;&nbsp;Services</a></p></div>
              <div class="mainmenuitem"><p><a href="support.html">&nbsp;&nbsp;&nbsp;&nbsp;Support</a></p></div>
              <div class="mainmenuitem"><p><a href="download.html">&nbsp;&nbsp;&nbsp;&nbsp;Download</a></p></div>
              <div class="mainmenuitem"><p><a href="corporate.html">&nbsp;&nbsp;&nbsp;&nbsp;Corporate</a></p></div>
              <div class="mainmenuitem"><p><a href="hobby.html"><img src="img/ai.gif" alt="">&nbsp;&nbsp;AppNotes</a></p></div>
          </div>
          <br>
          <div class="clmenu"><a href=""> Customer Login</a></div>
          <br>
          <div  class="xmenu">
            <h2>&nbsp;External links</h2>
              <a href="http://www.nxp.com/" target="_blank"> NXP</a> <br>
              <a href="http://www.xilinx.com/" target="_blank">Xilinx</a> <br>
              <a href="http://www.wiznet.co.kr/en/" target="_blank">WIZnet</a> <br>
              <a href="http://www.gnuarm.com/" target="_blank"> GNUarm</a> <br>
              <a href="http://wiki.tcl.tk/" target="_blank"> Tclers Wiki</a> <br>
              <a href="http://w6trw.com/swapmeet/w6trw_arc_swapmeet.htm" target="_blank">TRW Swapmeet</a><br>
              <a href="http://www.w3schools.com/" target="_blank">w3schools.com</a><br>
              <br>
          </div>
	    </div>
	 </div>
   <div id="ft">
       <a href="http://validator.w3.org/check?uri=http://www.digitalshortcut.com/index.html" title="Validate HTML">
          <img style="float:right;" src="img/html41.png" alt="Validate HTML 4.1 Loose" ></a>
       <a class="xc-badge-cssvalidate" href="http://jigsaw.w3.org/css-validator/validator?uri=http://www.digitalshortcut.com/hobby.html" title="Validate CSS">
          <img style="float:right;" src="img/css.png" alt="Validate CSS"> </a>
       <img style="float:right;" src="img/csstableless.gif" alt="">
       <h6>© Copyright 2008 - Digital Shortcut Inc., All Rights Reserved</h6>
   </div>
</div>
</body>
</html>
