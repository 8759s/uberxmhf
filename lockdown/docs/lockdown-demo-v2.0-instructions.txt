Lockdown Demo Guide v2.0

Author: Amit Vasudevan (amitvasudevan@acm.org)
========================================================================

Note: The disk-image used for the demo is designed to work 
only on the hp8540p laptop

Requirements
------------
1. Lockdown demo disk image
2. Lockdown verifier device (as of this writing based on a 
		DS2148WZ board)
3. HP 8540p Laptop
4. 120GB SATA laptop hard-disk

Initial Setup
-------------	
1. Burn Lockdown demo disk image to the 120GB SATA laptop hard-disk
   e.g., using dd on a different machine
	
2. Plug in the 120GB SATA hard-disk into the HP 8540p laptop and boot

3. At the first GRUB menu, press the <up-arrow> key to disengage
   autoboot and select the "Ubuntu 10.04.3 LTS Service Console"
   and boot into it
	
4. Program the Lockdown Verifier (see xxx)

5. Build the Lockdown hypervisor (see xxx)

6. Build the Lockdown environment monitor (see xxx)

7. Copy hypervisor and monitor binary images to 
   /mnt/bootpartition/boot

8. Copy /mnt/bootpartition/grub/menu_ue.lst 
	to /mnt/boot/partition/grub/menu.lst

9. Power down the laptop. You are now ready for the demo 

Running the demo
----------------

1. Connect the Lockdown verifier to the laptop and ensure 
   that the switch is set to the untrusted environment (red)

2. Power on the laptop. You will notice the verifier will 
   start a blinking red light

3. You will automatically boot using the Lockdown hypervisor 
   into the untrusted environment. Once the environment has 
   loaded, the blinking red will glow solid red

4. Do required operations in the untrusted environment
   (e.g., visit a website, browse facebook etc.)
   
5. Slide the verifier switch to trusted (green) and Lockdown 
   will start the environment switch. The Lockdown verifier
   light will switch to blinking red and system will automatically
   boot into the trusted environment. (Note: do not interact with
   the GRUB menu that you will see as part of the platform reset
   sequence)

6. Once the trusted environment has booted up, the Lockdown 
   verifier will glow soild green signifying you are ready to
   perform required sensitive operations.

7. Slide the verifier switch back to untrusted to switch back to
   the untrusted environment.


Note: The first time you do the untrusted to trusted cycle it might
take a little longer since the hibernation images are not built up 
yet (the OS goes through the complete boot sequence). Subsequent 
transitions should be much faster.

tinkering with hypervisor/verifier/monitor once you have a demo going

1. power up the laptop

2. on the grub menu press up arrow to disengage auto boot

3. select Lockdown(Trusted), boot and "restart" the OS (e.g., winxp)

4. upon restart on the grub menu press up arrow to disengage auto boot

5. select Lockdown (Untrusted), boot and "restart" the OS (e.g., win2k3)

6. uopn restart on the grub menu press up arrow and select 
	"ubuntu service parition..." and follow from step 4. in the
	previous section











