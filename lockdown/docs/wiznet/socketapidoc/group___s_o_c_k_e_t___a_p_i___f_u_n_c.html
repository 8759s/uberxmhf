<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>W5300 - SOCKET APIs: WIZnet_SOCKET_APIs</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>WIZnet_SOCKET_APIs</h1><b>WIZnet</b> <code>SOCKET</code> API is based on <b>Berkeley</b> <code>SOCKET</code> API, thus it has much similar name and interface.<br>
 But, there's a little bit difference like followings. <br>
<p>
<b> Comparison between <b>WIZnet</b> and <b>Berkeley</b> <code>SOCKET</code> APIs </b> <br>
 <table border="1" cellspacing="3" cellpadding="3">
<tr>
<td><b>API</b> </td><td><b>WIZnet</b> </td><td><b>Berkeley</b>  </td></tr>
<tr>
<td><a class="el" href="socket_8h.html#8b0247cecfe600e1e8b0df8ed2e77e79" title="Open a SOCKET.">socket()</a> </td><td>O </td><td>O  </td></tr>
<tr>
<td><b>bind()</b> </td><td>X </td><td>O  </td></tr>
<tr>
<td><b><a class="el" href="socket_8h.html#98a63bbd78fcd6b0fbbea85c773f0306" title="It is listening to a connect-request from a client.">listen()</a></b> </td><td>O </td><td>O  </td></tr>
<tr>
<td><b><a class="el" href="socket_8h.html#6b113f87d2f4dde2a5db37b36505c2df" title="It tries to connect a client.">connect()</a></b> </td><td>O </td><td>O  </td></tr>
<tr>
<td><b>accept()</b> </td><td>X </td><td>O  </td></tr>
<tr>
<td><b><a class="el" href="socket_8h.html#5672da1c2194f153a238b7e24a0ac435" title="It receives TCP data on a connection SOCKET.">recv()</a></b> </td><td>O </td><td>O  </td></tr>
<tr>
<td><b><a class="el" href="socket_8h.html#1679bdae7e6cd6a583576d3a80110095" title="It sends TCP data on a connection SOCKET.">send()</a></b> </td><td>O </td><td>O  </td></tr>
<tr>
<td><b><a class="el" href="socket_8h.html#fb55f9f683d86303d095d6df2d18bffd" title="It receives UDP, IPRAW, or MACRAW data.">recvfrom()</a></b> </td><td>O </td><td>O  </td></tr>
<tr>
<td><b><a class="el" href="socket_8h.html#0673e6e4b3c74bf6f5a38ece483e8f55" title="It sends UDP, IPRAW, or MACRAW data.">sendto()</a></b> </td><td>O </td><td>O  </td></tr>
<tr>
<td><b>closesocket()</b> </td><td>O<br>
<a class="el" href="socket_8h.html#4243cf1670c850a7bf1e77799afdc53f" title="Close a SOCKET.">close()</a> &amp; <a class="el" href="socket_8h.html#ddfd77bbc2b33e6edbcb8944e6a7e998" title="It tries to disconnect a connection SOCKET with a peer.">disconnect()</a> </td><td>O  </td></tr>
</table>
<p>
There are bind() and accept() functions in <b>Berkeley</b> <code>SOCKET</code> API but, not in <b>WIZnet</b> <code>SOCKET</code> API. Because <a class="el" href="socket_8h.html#8b0247cecfe600e1e8b0df8ed2e77e79" title="Open a SOCKET.">socket()</a> of <b>WIZnet</b> is not only creating a <code>SOCKET</code> but also binding a local port number, and <a class="el" href="socket_8h.html#98a63bbd78fcd6b0fbbea85c773f0306" title="It is listening to a connect-request from a client.">listen()</a> of <b>WIZnet</b> is not only listening to connection request from client but also accepting the connection request. When you program "TCP SERVER" with <b>Berkeley</b> <code>SOCKET</code> API, you can use only one listen port. When the listen <code>SOCKET</code> accepts a connection request from a client, it keeps listening. After accepting the connection request, a new <code>SOCKET</code> is created and the new <code>SOCKET</code> is used in communication with the client. Following figure shows network flow diagram by <b>Berkeley</b> <code>SOCKET</code> API.<p>
<div align="center">
<img src="Berkeley_SOCKET.jpg" alt="Berkeley_SOCKET.jpg">
<p><strong>&lt;Berkeley SOCKET API&gt;</strong></p></div>
 But, When you program "TCP SERVER" with <b>WIZnet</b> <code>SOCKET</code> API, you can use as many as <a class="el" href="iinchip__conf_8h.html#e5a2e3b1eefb3a10a2485e28a4ccdb59">MAX_SOCK_NUM</a> listen <code>SOCKET</code> with same port number. Because there's no accept() in <b>WIZnet</b> <code>SOCKET</code> APIs, when the listen <code>SOCKET</code> accepts a connection request from a client, it is changed in order to communicate with the client. And the changed <code>SOCKET</code> is not listening any more and is dedicated for communicating with the client. If there're many listen <code>SOCKET</code> with same listen port number and a client requests a connection, the <code>SOCKET</code> who has the smallest <code>SOCKET</code> number accepts the request and is changed as communication <code>SOCKET</code>. Following figure shows network flow diagram by <b>WIZnet</b> <code>SOCKET</code> API.<p>
<div align="center">
<img src="WIZnet_SOCKET.jpg" alt="WIZnet_SOCKET.jpg">
<p><strong>&lt;WIZnet SOCKET API&gt;</strong></p></div>
 <dl class="note" compact><dt><b>Note:</b></dt><dd>In using <b>WIZnet</b> SOCKET APIs, if byte odring of data is incorrect then set <a class="el" href="w5300_8h.html#45ea59348e276dacf1c5fd996286c0b6">MR_FS</a> bit using the below code. <div class="fragment"><pre class="fragment"> <a class="code" href="w5300_8h.html#8609d3d21680d743b7dec7488d764cd7" title="It sets MR value.">setMR</a>(<a class="code" href="w5300_8h.html#abcdf0adf479de2e178756d3c0d4e4b3" title="It gets MR value.">getMR</a>()|<a class="code" href="w5300_8h.html#45ea59348e276dacf1c5fd996286c0b6" title="FIFO swap bit of MR.">MR_FS</a>); 
</pre></div> </dd></dl>

<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Jan 2 12:20:00 2009 for W5300 - SOCKET APIs by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
